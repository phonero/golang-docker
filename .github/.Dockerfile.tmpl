# Do not edit this file directly, it is generated from .github/.Dockerfile.tmpl

FROM alpine:3.15
LABEL maintainer "PÃ¥l Sollie <sollie@sparkz.no>"
LABEL org.opencontainers.image.source https://github.com/sollie/golang-docker

ENV OS_ARCH="amd64" \
    OS_FLAVOUR="alpine" \
    OS_NAME="linux" \
    GOLANG_VERSION="###GOLANG_VERSION###" \
    GOLANG_HASH="###GOLANG_HASH###" \
    GOLANG_FILENAME="###GOLANG_FILENAME###" \
    GOLANG_URL="###GOLANG_URL###" \
    GOPATH="/go" \
    PATH="/go/bin:/opt/go/bin:$PATH"

RUN apk update && \
    apk add libc6-compat \
        build-base \
        ca-certificates \
        curl \
        git \
        gzip \
        procps \
        tar \
        unzip \
        wget

RUN wget -nc -P /tmp/cache ###GOLANG_URL### && \
    echo "###GOLANG_HASH###  /tmp/cache/###GOLANG_FILENAME###" | sha256sum -c - && \
    tar -zxf /tmp/cache/###GOLANG_FILENAME### -P -C /opt && \
    rm -rf /tmp/cache/###GOLANG_FILENAME###
RUN mkdir -p "/go/src" "/go/bin" && chmod -R 777 "/go"

WORKDIR $GOPATH
CMD [ "sh" ]
